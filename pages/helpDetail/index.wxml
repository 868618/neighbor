<view class="helpDetail" wx:if="{{ detail }}">
    <Navbar type="{{ masks.navBarType }}" bind:custom="hideHelpOtherMask" isShared="{{ isShared }}" />
<!--    <Navbar type="custom" wx:else bind:custom="hideHelpOtherMask" />-->
    <view class="detail_info {{ status }}">
        <Avatar-Time avatar="{{ detail.avatar }}" nickName="{{ detail.nickname }}" timeMark="{{detail.timeMark}}" />

        <view class="detail_title">
            <text class="{{ Number(detail.price) ? 'urgent' : null }}">{{ detail.title }}</text>
        </view>

        <view class="detail_price">￥ <text>{{ detail.price }}元</text></view>

        <view class="detail_tag">
<!--            <text>提问</text>-->
            <text>{{ detail.orderTypeName }}</text>
<!--            <text wx:for="{{ btns }}" wx:key="index" wx:if="{{detail.orderType == item.forHelpType}}">{{ item.text }}</text>-->
        </view>

        <view class="detail_text">
            {{ detail.content }}
        </view>

        <view class="detail_images" wx:if="{{ detail.imageList.length }}">
            <view class="detail_images_item" wx:for="{{ detail.imageList }}" wx:key="index">
                <image src="{{item}}" mode="widthFix" bind:tap="previewImage" data-image="{{ item }}" />
            </view>
        </view>

        <view class="detail_time">
            <text>{{ detail.createTime }}</text>
<!--            <text class="del">删除</text>-->
        </view>
    </view>

<!--    回答列表-->
    <view class="answerList" wx:if="{{ detail.answerList }}">
        <view class="answer_header">
            <text class="answer_title">{{ detail.answerAreaTitle }}</text>
            <text class="answer_desc">{{ detail.answerAreaSubtitle }}个回答</text>
        </view>

        <view class="answer_item" wx:for="{{ detail.answerList }}" wx:key="index">
<!--            <Avatar-Time />-->
            <Avatar-Time avatar="{{ item.avatar }}" nickName="{{ item.nickname }}" />
            <view class="answer_text">{{ item.answer }}</view>
            <view class="answer_effect">
                <text class="answer_time">{{ item.answerTime }}</text>
<!--                <view class="answer_like">-->
<!--                    <text>1</text> <image src="{{tmp}}" mode="widthFix" />-->
<!--                </view>-->
            </view>
        </view>
    </view>

<!--    我要应助组件-->
    <HelpOther wx:if="{{ masks.isShowHelpOther }}" bind:save="save" model:address="{{address}}" model:phone="{{phone}}" model:time="{{time}}" />


<!--    回答问题的蒙层-->
    <Mask id="mask" bind:cancel="cancelWriteAnswerMask" bind:ok="writeAnswer" ok="发布">
        <view class="question">
            <view class="question_title">
                {{ detail.title }}
            </view>
            <view class="question_content">
                {{ detail.content }}
            </view>
        </view>

        <view class="answer" wx:if="{{ masks.isShowTextArea }}">
            <textarea
                model:value="{{answer}}"
                class="textarea"
                placeholder="填写回答内容"
                placeholder-style="{{ placeHolderStyle }}"
            />
        </view>
    </Mask>

    <Dialog content="你确定帮助者无法履行帮助了吗？" style="color: #FE990C;font-weight: 500;" wx:if="{{ isShowDialog }}" bind:onTap="onTap" />

    <view class="restart" wx:if="{{ detail.buttonList && detail.buttonList.length && detail.buttonList[0].code == 40 }}" >
        <view class="text">无法继续履行帮助时，需要重新求助吗？</view>
        <view class="well" bind:tap="again">
            <text>好的</text>
        </view>
    </view>

    <view class="toHome" wx:if="{{isShared  || Number(detail.status) >= 30}}" bind:tap="toIndexPage">返回首页 看其他求助</view>

    <block wx:if="{{ detail.buttonList && detail.buttonList.length }}" wx:for="{{ detail.buttonList }}" wx:key="index">
        <Custom-Button custom-class="custom-class" bind:tap="accept" wx:if="{{ item.code == 20 }}">接受本次求助</Custom-Button>
        <Custom-Button custom-class="custom-class" bind:tap="toHelpOther" wx:if="{{ detail.orderType != 10 && item.code == 10 }}">立即帮助</Custom-Button>
        <Custom-Button custom-class="custom-class" bind:tap="openWriteAnswerMask" wx:if="{{ detail.orderType == 10 && item.code == 10 }}">写回答</Custom-Button>
    </block>
</view>